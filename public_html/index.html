<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<style>
			body {background: #E6CEC8;}
			/*#wrapper{
				width: 960px;
				position: relative;
				margin:0 auto;
				background: #f1f1f1;
			}*/
			.boxcon{
				width: 100%;height: 220px;
				-webkit-perspective: 300px;
			}
			.boxinner{
				position: absolute;
				top:0;left: 0;
				width: 200px;height: 200px;
				background: #fff;
				border-radius: 20px;
				-webkit-perspective: 0px;
			}
			.box{
				position: absolute;
				/*bottom: 0;left:50%;*/
				width: 100%;height: 200px;
				/*margin-left: -100px;*/
			}
			input[type=range]{
				width: 200px;
				margin: 0 auto;
			}
			.component{
				width: 500px;
				display: none;
			}
			.component label{
				width: 200px;
				display: block;

			}
			.threetest{
				position: absolute;
				top:300px;
				width: 100%;
				height:500px;
				-webkit-transform-style:preserve-3d;
				-webkit-perspective: 300px;
				-moz-transform-style:preserve-3d;
				-moz-perspective: 300px;
				-ms-transform-style:preserve-3d;
				-ms-perspective: 300;
				transform-style:preserve-3d;
				perspective: 300px;
			}
			.tcontainer{
				-webkit-transform-style:preserve-3d;
				-moz-transform-style:preserve-3d;
				-ms-transform-style:preserve-3d;
				transform-style:preserve-3d;
				width: 100%;
				height:500px;
			}
			.tbox{
				position: absolute;
				width: 100px;height: 100px;
				background: #fff;
				border-radius: 20px;
				top:50%;margin-top: -50px;
				left:50%;margin-left: -50px;
				text-align: center;
				vertical-align: middle;
			}
		</style>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		
		<script type="text/javascript" src="TrTween.js"></script>

		<script type="text/javascript">
			var TrTween = jp.contents.TrTween.TrTween,
				Linear = jp.contents.easing.Linear,
				Sine = jp.contents.easing.Sine,
				Cubic = jp.contents.easing.Cubic,
				Quint = jp.contents.easing.Quint,
				Circ = jp.contents.easing.Circ,
				Quad = jp.contents.easing.Quad,
				Quart = jp.contents.easing.Quart,
				Expo = jp.contents.easing.Expo,
				Elastic = jp.contents.easing.Elastic,
				Back = jp.contents.easing.Back,
				Bounce = jp.contents.easing.Bounce,
				CustomEase = jp.contents.easing.CustomEase,
				SpriteSheet = jp.contents.display.SpriteSheet,
				easings = {
					"Linear":Linear.easeNone,
					"easeOutSine":Sine.easeOut,
					"easeInSine":Sine.easeIn,
					"easeInOutSine":Sine.easeInOut,
					"easeOutInSine":Sine.easeOutIn,
					"easeOutCubic":Cubic.easeOut,
					"easeInCubic":Cubic.easeIn,
					"easeInOutCubic":Cubic.easeInOut,
					"easeOutInCubic":Cubic.easeOutIn,
					"easeOutQuint":Quint.easeOut,
					"easeInQuint":Quint.easeIn,
					"easeInOutQuint":Quint.easeInOut,
					"easeOutInQuint":Quint.easeOutIn,
					"easeOutCirc":Circ.easeOut,
					"easeInCirc":Circ.easeIn,
					"easeInOutCirc":Circ.easeInOut,
					"easeOutInCirc":Circ.easeOutIn,
					"easeOutQuad":Quad.easeOut,
					"easeInQuad":Quad.easeIn,
					"easeInOutQuad":Quad.easeInOut,
					"easeOutInQuad":Quad.easeOutIn,
					"easeOutQuart":Quart.easeOut,
					"easeInQuart":Quart.easeIn,
					"easeInOutQuart":Quart.easeInOut,
					"easeOutInQuart":Quart.easeOutIn,
					"easeOutExpo":Expo.easeOut,
					"easeInExpo":Expo.easeIn,
					"easeInOutExpo":Expo.easeInOut,
					"easeOutInExpo":Expo.easeOutIn,
					"easeOutElastic":Elastic.easeOut,
					"easeInElastic":Elastic.easeIn,
					"easeInOutElastic":Elastic.easeInOut,
					"easeOutInElastic":Elastic.easeOutIn,
					"easeOutBack":Back.easeOut,
					"easeInBack":Back.easeIn,
					"easeInOutBack":Back.easeInOut,
					"easeOutInBack":Back.easeOutIn,
					"easeOutBounce":Bounce.easeOut,
					"easeInBounce":Bounce.easeIn,
					"easeInOutBounce":Bounce.easeInOut,
					"easeOutInBounce":Bounce.easeOutIn,
					"easeOutElasticWith":Elastic.easeOutWith,
					"easeInElasticWith":Elastic.easeInWith,
					"easeInOutElasticWith":Elastic.easeInOutWith,
					"easeOutInElasticWith":Elastic.easeOutInWith,
					"easeOutBackWith":Back.easeOutWith,
					"easeInBackWith":Back.easeInWith,
					"easeInOutBackWith":Back.easeInOutWith,
					"easeOutInBackWith":Back.easeOutInWith,
					"easeCustom":CustomEase
				};
			$(document).ready(function(){
				var name,appendstr = "",box = $("#wrapper .boxinner")[0],easing;

				var mc = new SpriteSheet(box,20);
				var tr = TrTween.tween(mc,{x:200,y:300},{x:0,y:0},1);
				// setTimeout(function(){
				// 	tr.stop();
				// },1200);
				tr.play();


				for (name in easings)
				{
					appendstr += "<option value='" + name + "'>" + name + "</option>";
				}
				$("#selectEasing").append(appendstr).bind("change",function(){
					easing = easings[this.value];
					
					if(this.value === "easeOutElasticWith" || this.value === "easeInElasticWith" || this.value === "easeInOutElasticWith" || this.value === "easeOutInElasticWith")
					{
						$("#ampcmp").css("display","block");
						$("#periodocmp").css("display","block");
						$("#scom").css("display","none");
						$("#customParam").css("display","none");
					}
					else if(this.value === "easeOutBackWith" || this.value === "easeInBackWith" || this.value === "easeInOutBackWith" || this.value === "easeOutInBackWith")
					{
						$("#ampcmp").css("display","none");
						$("#periodocmp").css("display","none");
						$("#scom").css("display","block");
						$("#customParam").css("display","none");
					}
					else if(this.value="easeCustom")
					{
						$("#ampcmp").css("display","none");
						$("#periodocmp").css("display","none");
						$("#scom").css("display","none");
						$("#customParam").css("display","block");
					}
					else
					{
						$("#ampcmp").css("display","none");
						$("#periodocmp").css("display","none");
						$("#scom").css("display","none");
						$("#customParam").css("display","none");
					}
						

					
				})
				$("input[type=range]").change(function(){
					var t = $(this),
						p = t.parent();
					p.find("span").html(this.value);

				});
				$("input[type=range]").trigger("change");

				$("input[type=button]").click(function(){
					if(easing === Back.easeOutWith || easing === Back.easeInWith || easing === Back.easeInOutWith || easing === Back.easeOutInWith)
					{
						var s = Number($("#se")[0].value);
						
						TrTween.tween(box,{x:800},{x:0},1.5,easing(s)).play();
					}
					else if(easing === Elastic.easeOutWith || easing === Elastic.easeInWith || easing === Elastic.easeInOutWith || easing === Elastic.easeOutInWith)
					{
						var a = Number($("#amp")[0].value),
							p = Number($("#period")[0].value);
						TrTween.tween(box,{x:800},{x:0},1.5,easing(a,p)).play();
					}
					else if(easing === CustomEase)
					{
						var p1x = Number($("#p1x")[0].value),
							p1y = Number($("#p1y")[0].value),
							p2x = Number($("#p2x")[0].value),
							p2y = Number($("#p2y")[0].value);
						TrTween.tween(box,{x:800},{x:0},1.5,easing(p1x,p1y,p2x,p2y)).play()
					}
					else
					{
						TrTween.changeUnit(box,{width:"%",backgroundPosition:"em"}).play();
						TrTween.tween(box,{width:100},{width:0},3,easing).play();
					}
				});
			});

			
			
		</script>
	</head>
	<body>
		<section id="wrapper">

		<select name="easing" id="selectEasing">
		</select>
		<p id="ampcmp"  class="component"><label>amplitude:　</label><input type="range" name="amplitude" id="amp" min="0" max="5" step="0.05" value="0"><span class="rvalue"></span></p>
		<p id="periodocmp" class="component"><label>period:　</label><input type="range" name="period" id="period" min="0" max="5" step="0.05" value="0"><span class="rvalue"></span></p>
		<p id="scom" class="component"><label>s:　</label><input type="range" name="period" id="se" min="0" max="5" step="0.05" value="0"><span class="rvalue"></span></p>
		<div id="customParam" class="component">
			<p><label>p1x:　</label><input type="range" name="period" id="p1x" min="-3" max="3" step="0.01" value="0"><span class="rvalue"></span></p>
			<p><label>p1y:　</label><input type="range" name="period" id="p1y" min="-3" max="3" step="0.01" value="0"><span class="rvalue"></span></p>
			<p><label>p2x:　</label><input type="range" name="period" id="p2x" min="-3" max="3" step="0.01" value="0"><span class="rvalue"></span></p>
			<p><label>p2y:　</label><input type="range" name="period" id="p2y" min="-3" max="3" step="0.01" value="0"><span class="rvalue"></span></p>
		</div>
		<figure id="normalTween">
			<div class="boxcon">
				<div class="box">
					<div class="boxinner"></div>
				</div>
			</div>
		<input type="button" value="PLAY!">
		</figure>
		
		<!-- <section class="threetest" id="ttt">
			<div class="tcontainer">
				<div class="tbox">1</div>
				<div class="tbox">2</div>
				<div class="tbox">3</div>
				<div class="tbox">4</div>
			</div>
		</section> -->
		</section>
	</body>
</html>