(function(){"use strict";var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D=Object.prototype.hasOwnProperty,P=function(e,t){function r(){this.constructor=e}for(var n in t)D.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};o={Chrome:"chrome",Safari:"safari",IE:"ie",Firefox:"firefox",Opera:"opera"},g={Windows:"windows",MacOS:"macos",iPhone:"iPhone",iPad:"iPad",iPod:"iPod",Android:"android"},window.console=window.console!=null?window.console:{log:function(){}},r=function(){function e(){}return e._init=function(){var t,n,r,i,s,u,a;return a=navigator.userAgent.toUpperCase(),i=!1,r=!1,a.indexOf("CHROME")>-1?(t=o.Chrome,a.match(/CHROME\/(\d+(\.\d+)+)/ig),n=RegExp.$1):a.indexOf("SAFARI")>-1?(t=o.Safari,a.match(/VERSION\/(\d+(\.\d+)+)/ig),n=RegExp.$1):a.indexOf("FIREFOX")>-1?(t=o.Firefox,a.match(/FIREFOX\/(\d+(\.\d+)+)/i),n=RegExp.$1):a.indexOf("MSIE")>-1?(t=o.IE,a.match(/MSIE (\d+(\.\d+)+)/i),n=RegExp.$1):a.indexOf("OPERA")>-1&&(t=o.Opera,a.match(/OPERA\/(\d+(\.\d+)+)/i),n=RegExp.$1),e._browserName=t,e._browserVersion=n,a.indexOf("ANDROID")>-1?(a.match(/ANDROID (\d+\.\d+)/i),u=(RegExp.$1.replace(/\./g,"")+"00").slice(0,3),u=Number(u),s=g.Android,i=!0):a.indexOf("IPHONE")>-1?(a.match(/IPHONE OS (\w+){1,3}/g),u=(RegExp.$1.replace(/_/g,"")+"00").slice(0,3),u=Number(u),s=g.iPhone,i=!0,r=!0):a.indexOf("IPOD")>-1?(a.match(/IPOD OS (\w+){1,3}/g),u=(RegExp.$1.replace(/_/g,"")+"00").slice(0,3),u=Number(u),s=g.iPod,i=!0,r=!0):a.indexOf("IPAD")>-1?(a.match(/IPAD OS (\w+){1,3}/g),u=(RegExp.$1.replace(/_/g,"")+"00").slice(0,3),u=Number(u),s=g.iPad,i=!0,r=!0):a.indexOf("MAC OS X")>-1?(a.match(/MAC OS X (\d+[\._]\d+)|(\d+_\d+)/g),u=(RegExp.$1.replace(/\.|_/g,"")+"00").slice(0,3),u=Number(u),s=g.MacOS):s=g.Windows,e._osName=s,e._osVersion=u,e._isMobile=i,e._isiOS=r,e._browserInfo={name:e._browserName,version:parseFloat(e._browserVersion)},e._osInfo={name:e._osName,version:e._osVersion}},e.getBrowserInfo=function(){return e._browserInfo||e._init(),e._browserInfo},e.getOSInfo=function(){return e._browserInfo||e._init(),e._osInfo},e.isMobile=function(){return e._browserInfo||e._init(),e._isMobile},e.isiOS=function(){return e._browserInfo||e._init(),e._isiOS},e.isFIE=function(){return e._browserInfo||e._init(),e._browserInfo.name==="ie"&&e._browserInfo.version<9?!0:!1},e.isIE6=function(){return e._browserInfo||e._init(),e._browserInfo.name==="ie"&&e._browserInfo.version<7?!0:!1},e.isCSS3DEnable=function(){return e._browserInfo||e._init(),e._browserInfo.name==="ie"&&e._browserInfo.version<10?!1:!0},e}(),f=function(){function e(){}return e.create=function(e,t,n){return function(){return e.apply(t,n!=null?n:[])}},e}(),window.jp=window.jp||{},window.jp.contents=window.jp.contents||{},window.jp.contents.util=window.jp.contents.util||{},window.jp.contents.util.Delegate=f,window.jp.contents.util.Application=r,"use strict",u=jp.contents.easing.CSS3Easing,v=jp.contents.easing.Linear,t=r.getOSInfo(),e=r.getBrowserInfo(),M=r.isiOS(),O=e.name===o.IE&&parseFloat(e.version)<9?!0:!1,_=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(e,1e3/60)}}(),A=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||window.clearTimeout}(),L=function(){function e(){}return e.cssVender="",e.vender="",e.animationEnd="",e.transformName="",e._init=function(){var t,n,r,i,s;t=document.createElement("div").style,r="webkitT,MozT,msT,OT,t".split(",");for(i=0,s=r.length;i<s;i++){n=r[i];if(t[n+"ransform"]!==void 0){e.vender=n.substr(0,n.length-1),e.transformName=n+"ransform";break}}e.vender!==""?e.cssVender="-"+e.vender.toLowerCase()+"-":e.cssVender="transform",e.vender==="Moz"?e.animationEnd="animationend":e.vender==="webkit"?e.animationEnd="webkitAnimationEnd":e.vender==="ms"&&(e.animationEnd="MSAnimationEnd")},e}(),L._init(),k={Initialized:5,Playing:1,Completed:2,Stoped:3,Finalized:4},m=function(){function e(e){this._first=null,this._last=null,e&&(this._first={elm:e,next:null},this._last=this._first),this.length=this._first?1:0;return}return e.prototype.getFirst=function(){return this._first},e.prototype.push=function(e){var t;t={elm:e,next:null},this._first?this._last.next=t:this._first=t,this._last=t},e.prototype.slice=function(e){var t,n;n=this._first,t=null;while(n)n.elm===e&&(t?t.next=n.next:this._first=n.next,n===this._last&&(this._last=t),--this.length),t=n,n=n.next},e.prototype.shift=function(){var e;return e=this._first,this._first=this.first.next,--this.length,e},e.prototype.map=function(e,t){var n;n=this._first;while(n)e.apply(n.elm,t),n=n.next},e}(),S=function(){function e(){}return e.count=0,e._spendTime=0,e._updaters=new m,e.removeListener=function(t){e._updaters.slice(t)},e.addListener=function(t){var n,r;n=e._updaters.getFirst(),r=!1;while(n)n.elm===t&&(r=!0),n=n.next;r||e._updaters.push(t)},e.getState=function(){return e._state},e._state=0,e._rid=-1,e.start=function(){e._state=1,e.tick()},e.stop=function(){A(e._rid)},e.tick=function(){var t,n,r,i;r=0,t=Date.now!=null?Date.now():(new Date).getTime(),i=e._updaters,n=i.getFirst();while(n)n.elm.update(t),n=n.next;e._rid=_(e.tick)},e}(),w=function(){function e(e){if(!e)throw new Error("target が未設定");this._target=e,this._trName=L.transformName,this._trcssName=L.cssVender+"transform",this._filterName=L.cssVender+"filter",this._styleTweens=null,this._trTweens=null,this._filterTweens=null,this.x=NaN,this.y=NaN,this.z=NaN,this.rotation=NaN,this.rotationX=NaN,this.rotationY=NaN,this.rotationZ=NaN,this.scaleX=NaN,this.scaleY=NaN,this.skewX=NaN,this.skewY=NaN,this.grayscale=NaN,this.sepia=NaN,this.saturate=NaN,this.hueRotate=NaN,this.invert=NaN,this.brightness=NaN,this.contrast=NaN,this.blur=NaN,this.alpha=NaN,this.top=NaN,this.bottom=NaN,this.left=NaN,this.right=NaN,this.width=NaN,this.height=NaN,this.marginLeft=NaN,this.marginTop=NaN,this.marginBottom=NaN,this.marginRight=NaN,this.backgroundPositionX=NaN,this.backgroundPositionY=NaN,this.visible="NONE",this.display="",this._needUpdate=!1,this._transformVals=[],this.transitionStr="",this._parsePropaties(),this._hasTransform=!1,this._hasCss2Style=!1,this._hasFilter=!1,M&&(this._target.style.webkitTransformStyle="preserve-3d");return}return e._RADIAN=Math.PI/180,e._targets=new m,e._defaults={x:0,y:0,z:0,rotation:0,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,skewX:0,skewY:0,top:0,bottom:0,left:0,right:0,width:0,height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,backgroundPositionX:0,backgroundPositionY:0,alpha:1,grayscale:0,sepia:0,saturate:100,hueRotate:0,invert:0,brightness:100,contrast:100,blur:0},e.getMapper=function(t){var n,r;n=e._targets.getFirst();while(n){if(n.elm._target===t)return n.elm;n=n.next}return t.style?r=new e(t):r=new y(t),e._targets.push(r),r},e.prototype._initTransformTweenList=function(){return this._trTweens=new m,this._trTweens.push({name:"x",tween:null}),this._trTweens.push({name:"y",tween:null}),this._trTweens.push({name:"z",tween:null}),this._trTweens.push({name:"rotation",tween:null}),this._trTweens.push({name:"rotationX",tween:null}),this._trTweens.push({name:"rotationY",tween:null}),this._trTweens.push({name:"rotationZ",tween:null}),this._trTweens.push({name:"skewX",tween:null}),this._trTweens.push({name:"skewY",tween:null}),this._trTweens.push({name:"scaleX",tween:null}),this._trTweens.push({name:"scaleY",tween:null}),this._trTweens},e.prototype._parsePropaties=function(){var e,t,n,r,i,s;i=this._target,!O&&i.style[this._trName]!==void 0&&(s=i.style[this._trName],r=/(translateX\()([0-9||\.||-||e-]+)(px\))/,this.x=s.match(r)?s.match(r)[2]*1:NaN,r=/(translateY\()([0-9||\.||-||e-]+)(px\))/,this.y=s.match(r)?s.match(r)[2]*1:NaN,r=/(translateZ\()([0-9||\.||-||e-]+)(px\))/,this.z=s.match(r)?s.match(r)[2]*1:NaN,r=/(scaleX\()([0-9||\.||-||e-]+)(\))/,this.scaleX=s.match(r)?s.match(r)[2]*1:NaN,r=/(scaleY\()([0-9||\.||-||e-]+)(\))/,this.scaleY=s.match(r)?s.match(r)[2]*1:NaN,r=/(rotate\()([0-9||\.||-||e-]+)(deg\))/,this.rotation=s.match(r)?s.match(r)[2]*1:NaN,r=/(rotateX\()([0-9||\.||-||e-]+)(deg\))/,this.rotationX=s.match(r)?s.match(r)[2]*1:NaN,r=/(rotateY\()([0-9||\.||-||e-]+)(deg\))/,this.rotationY=s.match(r)?s.match(r)[2]*1:NaN,r=/(rotateZ\()([0-9||\.||-||e-]+)(deg\))/,this.rotationZ=s.match(r)?s.match(r)[2]*1:NaN,r=/(skewX\()([0-9||\.||-||e-]+)(deg\))/,this.skewX=s.match(r)?s.match(r)[2]*1:NaN,r=/(skewY\()([0-9||\.||-||e-]+)(deg\))/,this.skewY=s.match(r)?s.match(r)[2]*1:NaN),i.style&&(isNaN(parseFloat(i.style.opacity))||(this.alpha=parseFloat(i.style.opacity)),isNaN(parseFloat(i.style.top))||(this.top=parseFloat(i.style.top)),isNaN(parseFloat(i.style.bottom))||(this.bottom=parseFloat(i.style.bottom)),isNaN(parseFloat(i.style.left))||(this.left=parseFloat(i.style.left)),isNaN(parseFloat(i.style.right))||(this.right=parseFloat(i.style.right)),isNaN(parseFloat(i.style.width))||(this.width=parseFloat(i.style.width)),isNaN(parseFloat(i.style.height))||(this.height=parseFloat(i.style.height)),isNaN(parseFloat(i.style.marginTop))||(this.marginTop=parseFloat(i.style.marginTop)),isNaN(parseFloat(i.style.marginBottom))||(this.marginBottom=parseFloat(i.style.marginBottom)),isNaN(parseFloat(i.style.marginRight))||(this.marignRight=parseFloat(i.style.marginRight)),isNaN(parseFloat(i.style.marginLeft))||(this.marginLeft=parseFloat(i.style.marginLeft)),i.style.backgroundPosition!==""&&(this.backgroundPositionY=0,this.backgroundPositionX=0,e=i.style.backgroundPosition.split(" "),t=parseFloat(e[0]),n=parseFloat(e[1]),isNaN(t)||(this.backgroundPositionX=t),isNaN(t)||(this.backgroundPositionY=n)),isNaN(parseFloat(i.style.backgroundPositionY))||(this.backgroundPositionY=parseFloat(i.style.backgroundPositionY)),this.display=i.style.display?i.style.display:"",i.style.visible==="hidden"?this.visible=!1:i.style.visible==="visible"?this.visible=!0:this.visible="NONE")},e.prototype.registerTween=function(t){var n,r,i,s,o,u,a,f;f=t._to,o=t._from,n={};if(O){for(u in f)if(u==="top"||u==="bottom"||u==="left"||u==="right"||u==="width"||u==="height"||u==="alpha"||u==="marginTop"||u==="marginBottom"||u==="marginRight"||u==="marginLeft"||u==="backgroundPositionX"||u==="backgroundPositionY"){a=this._styleTweens||(this._styleTweens=new m),s=0,this._hasCss2Style=!0,o&&!isNaN(o[u])?s=o[u]:s=isNaN(this[u])?e._defaults[u]:this[u],n[u]=f[u]-s,o[u]=s,r=a.getFirst(),i=!1;while(r){if(r.elm.name===u){i=!0,r.elm.tween=t;break}r=r.next}i||a.push({name:u,tween:t})}return S.addListener(this),n}for(u in f)if(u==="x"||u==="y"||u==="z"||u==="rotation"||u==="rotationX"||u==="rotationY"||u==="rotationZ"||u==="skewX"||u==="skewY"||u==="scaleX"||u==="scaleY"){this._hasTransform=!0,s=0,o&&!isNaN(o[u])?s=o[u]:s=isNaN(this[u])?e._defaults[u]:this[u],o[u]=s,n[u]=f[u]-s,a=this._trTweens||this._initTransformTweenList(),r=a.getFirst();while(r)r.elm.name===u&&(r.elm.tween=t),r=r.next}else if(u==="top"||u==="bottom"||u==="left"||u==="right"||u==="width"||u==="height"||u==="alpha"||u==="marginTop"||u==="marginBottom"||u==="marginRight"||u==="marginLeft"||u==="backgroundPositionX"||u==="backgroundPositionY"){this._hasCss2Style=!0,a=this._styleTweens||(this._styleTweens=new m),s=0,o&&!isNaN(o[u])?s=o[u]:s=isNaN(this[u])?e._defaults[u]:this[u],n[u]=f[u]-s,o[u]=s,r=a.getFirst(),i=!1;while(r){if(r.elm.name===u){i=!0,r.elm.tween=t;break}r=r.next}i||a.push({name:u,tween:t})}else if(u==="grayscale"||u==="sepia"||u==="saturate"||u==="hueRotate"||u==="invert"||u==="brightness"||u==="contrast"||u==="blur"){this._hasFilter=!0,a=this._filterTweens||(this._filterTweens=new m),s=0,o&&!isNaN(o[u])?s=o[u]:s=isNaN(this[u])?e._defaults[u]:this[u],n[u]=f[u]-s,o[u]=s,r=a.getFirst(),i=!1;while(r){if(r.elm.name===u){i=!0,r.elm.tween=t;break}r=r.next}i||a.push({name:u,tween:t})}return S.addListener(this),n},e.prototype.applyStyles=function(){if(O){this._target.style.cssText=this._calcCss2();return}this._target.style.cssText=this.transitionStr+this._calcCss2()+this._calcFilter()+this._calcMatrix()},e.prototype._calcCss2=function(){var e,t;if(!this._hasCss2Style)return"";e="",isNaN(this.top)||(e+="top:"+this.top+"px;"),isNaN(this.bottom)||(e+="bottom:"+this.bottom+"px;"),isNaN(this.left)||(e+="left:"+this.left+"px;"),isNaN(this.right)||(e+="right:"+this.right+"px;"),isNaN(this.width)||(e+="width:"+this.width+"px;"),isNaN(this.height)||(e+="height:"+this.height+"px;"),isNaN(this.marginTop)||(e+="margin-top:"+this.marginTop+"px;"),isNaN(this.marginBottom)||(e+="margin-bottom:"+this.marginBottom+"px;"),isNaN(this.marginLeft)||(e+="margin-left:"+this.marginLeft+"px;"),isNaN(this.marginRight)||(e+="margin-right:"+this.marginRight+"px;");if(!isNaN(this.backgroundPositionY)||!isNaN(this.backgroundPositionX))this.backgroundPositionX=isNaN(this.backgroundPositionX)?0:this.backgroundPositionX,this.backgroundPositionY=isNaN(this.backgroundPositionY)?0:this.backgroundPositionY,e+="background-position:"+this.backgroundPositionX+"px "+this.backgroundPositionY+"px;";return isNaN(this.alpha)||(this.alpha=Math.round(this.alpha*1e3)/1e3,O?(t=this.alpha*100,e+='zoom:1;-ms-filter:"alpha(opacity='+t+')";filter:alpha(opacity='+t+");opacity:"+this.alpha+";"):e+="opacity:"+this.alpha+";"),this.visible!=="NONE"&&(this.visible?e+="visibility:visible;":e+="visibility:hidden;"),this.display!==""&&(e+="display:"+this.display+";"),e},e.prototype._calcFilter=function(){var e;return this._hasFilter?(e="",isNaN(this.glayscale)||(e+=" glayscale("+this.glayscale+"%)"),isNaN(this.sepia)||(e+=" sepia("+this.sepia+"%)"),isNaN(this.saturate)||(e+=" saturate("+this.saturate+"%)"),isNaN(this.hueRotate)||(e+=" hue-rotate("+this.blur+"deg)"),isNaN(this.invert)||(e+=" invert("+this.invert+"%)"),isNaN(this.brightness)||(e+=" brightness("+this.brightness+"%)"),isNaN(this.contrast)||(e+=" contrast("+this.contrast+"%)"),isNaN(this.blur)||(e+=" blur("+this.blur+"px)"),this._filterName+":"+e+";"):""},e.prototype._calcMatrix=function(){var e;return this._hasTransform?(e="",isNaN(this.x)||(e+=" translateX("+this.x+"px)"),isNaN(this.y)||(e+=" translateY("+this.y+"px)"),isNaN(this.z)||(e+=" translateZ("+this.z+"px)"),isNaN(this.rotation)||(e+=" rotate("+this.rotation+"deg)"),isNaN(this.rotationX)||(e+=" rotateX("+this.rotationX+"deg)"),isNaN(this.rotationY)||(e+=" rotateY("+this.rotationY+"deg)"),isNaN(this.rotationZ)||(e+=" rotateZ("+this.rotationZ+"deg)"),isNaN(this.skewX)||(e+=" skewX("+this.skewX+"deg)"),isNaN(this.skewY)||(e+=" skewY("+this.skewY+"deg)"),isNaN(this.scaleX)||(e+=" scaleX("+this.scaleX+")"),isNaN(this.scaleY)||(e+=" scaleY("+this.scaleY+")"),this._trcssName+":"+e+";"):""},e.prototype.applyProperties=function(e,t){var n,r;n=!1;for(r in e)if(this[r]!==null){n=!0;if(r==="top"||r==="bottom"||r==="left"||r==="right"||r==="width"||r==="height"||r==="alpha"||r==="marginTop"||r==="marginBottom"||r==="marginRight"||r==="marginLeft"||r==="backgroundPositionX"||r==="backgroundPositionY"||r==="visible"||r==="display")this._hasCss2Style=!0;else if(r==="x"||r==="y"||r==="z"||r==="rotation"||r==="rotationX"||r==="rotationY"||r==="rotationZ"||r==="skewX"||r==="skewY"||r==="scaleX"||r==="scaleY")this._hasTransform=!0;else if(r==="grayscale"||r==="sepia"||r==="saturate"||r==="hueRotate"||r==="invert"||r==="brightness"||r==="contrast"||r==="blur")this._hasFilter=!0;this[r]=e[r]}n&&t&&this.applyStyles()},e.prototype.update=function(e){var t,n;t=this._trTweens?this._trTweens.getFirst():null;while(t){n=t.elm.tween;if(!n){t=t.next;continue}(n._state===k.Completed||n._state===k.Playing)&&n.update(e,t.elm.name),t=t.next}t=this._styleTweens?this._styleTweens.getFirst():null;while(t){n=t.elm.tween;if(!n){t=t.next;continue}(n._state===k.Completed||n._state===k.Playing)&&n.update(e,t.elm.name),t=t.next}t=this._filterTweens?this._filterTweens.getFirst():null;while(t){n=t.elm.tween;if(!n){t=t.next;continue}(n._state===k.Completed||n._state===k.Playing)&&n.update(e,t.elm.name),t=t.next}this.applyStyles(),this.fixTweens()},e.prototype.fixTweens=function(){var e,t,n;e=this._trTweens?this._trTweens.getFirst():null,t=0;while(e){n=e.elm.tween;if(!n){e=e.next;continue}n._state===k.Completed?(n.tickUpdate(),e.elm.tween=null,n.finalize(),t=1):n._state===k.Playing?(n.tickUpdate(),t=1):n._state===k.Stoped?e.elm.tween=null:n._state===k.Initialized&&(t=1),e=e.next}e=this._styleTweens?this._styleTweens.getFirst():null;while(e){n=e.elm.tween;if(!n){e=e.next;continue}n._state===k.Completed?(n.tickUpdate(),e.elm.tween=null,n.finalize(),t=1):n._state===k.Playing?(n.tickUpdate(),t=1):n._state===k.Stoped?e.elm.tween=null:n._state===k.Initialized&&(t=1),e=e.next}e=this._filterTweens?this._filterTweens.getFirst():null;while(e){n=e.elm.tween;if(!n){e=e.next;continue}n._state===k.Completed?(n.tickUpdate(),e.elm.tween=null,n.finalize(),t=1):n._state===k.Playing?(n.tickUpdate(),t=1):n._state===k.Stoped?e.elm.tween=null:n._state===k.Initialized&&(t=1),e=e.next}t===0&&S.removeListener(this)},e.prototype.getTransformString=function(){return this._calcMatrix()},e.prototype.getStyleString=function(){return this._calcCss2()},e}(),y=function(){function e(e){this._target=e,this._tweens=null}return P(e,w),e.prototype.applyStyles=function(){var e,t;e=this._tweens.getFirst();while(e)t=e.elm.name,this._target[t]=this[t],e.elm.hasUpdater&&(e=this._target.updaters[t],e.apply(this._target,[this[t]])),e=e.next},e.prototype.registerTween=function(e){var t,n,r,i,s,o,u,a,f;a=e._to,s=e._from,t={},f=this._tweens||(this._tweens=new m);for(u in a){i=0,s&&!isNaN(s[u])?i=s[u]:isNaN(this._target[u])?i=0:i=this._target[u],t[u]=a[u]-i,this[u]=i,s[u]=i,n=f.getFirst(),r=!1,o=!1,this._target.updaters&&this._target.updaters[u]&&(o=!0);while(n){if(n.elm.name===u){r=!0,n.elm.tween=e;break}n=n.next}r||f.push({name:u,tween:e,hasUpdater:o})}return S.addListener(this),t},e.prototype.update=function(e){var t,n;t=this._tweens.getFirst();while(t){n=t.elm.tween;if(!n){t=t.next;continue}(n._state===k.Completed||n._state===k.Playing)&&n.update(e,t.elm.name),t=t.next}this.applyStyles(),this.fixTweens()},e.prototype.fixTweens=function(){var e,t,n;e=this._tweens.getFirst(),t=0;while(e){n=e.elm.tween;if(!n){e=e.next;continue}n._state===k.Completed?(e.elm.tween=null,n.tickUpdate(),n.finalize(),t=1):n._state===k.Playing?(n.tickUpdate(),t=1):n._state===k.Stoped?e.elm.tween=null:n._state===k.Initialized&&(t=1),e=e.next}t===0&&S.removeListener(this)},e}(),p=function(){function e(){}return e.prototype.update=function(e,t){},e.prototype.play=function(){},e.prototype.stop=function(){},e.prototype.finalize=function(){},e.prototype.clone=function(){},e.prototype.getDuration=function(){return this._duration/1e3},e.prototype.onComplete=function(e){this._onComplete=e},e.prototype.onUpdate=function(e){this._onUpdate=e},e.prototype.onPlay=function(e){this._onPlay=e},e.prototype.onStop=function(e){this._onStop=e},e.prototype.getState=function(){return this._state},e}(),d=function(){function e(){e.__super__.constructor.apply(this,arguments)}return P(e,p),e.prototype.getTweens=function(){return this._tweens},e.prototype.getLength=function(){return this._tweens.length},e}(),h=function(){function e(){e.__super__.constructor.apply(this,arguments)}return P(e,p),e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e}(),i=function(){function e(e,t,n,r,i){this._onComplete=null,this._onPlay=null,this._onUpdate=null,this._onStop=null,this._state=k.Initialized,this._from=n||{},this._to=t,this._duration=r*1e3,this._easing=i||N.DefaultEasing,this._target=e,this._mapper=w.getMapper(e);return}return P(e,p),e.prototype.play=function(){this._state=k.Playing,this._c=this._mapper.registerTween(this),this._st=Date.now!=null?Date.now():(new Date).getTime(),this._endTime=this._st+this._duration,S.getState()===0&&S.start(),this._onPlay&&this._onPlay(this)},e.prototype.update=function(e,t){if(e>=this._endTime){this._mapper[t]=(this._easing.update(this._duration,this._from[t],this._c[t],this._duration)*1e3|0)/1e3,this._state=k.Completed;return}this._mapper[t]=this._easing.update(e-this._st,this._from[t],this._c[t],this._duration)},e.prototype.tickUpdate=function(){this._onUpdate&&this._onUpdate(this)},e.prototype.stop=function(){this._state=k.Stoped,this._onStop&&this._onStop(this)},e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e.prototype.clone=function(){return new e(this._target,this._tp,this._from,this._duration/1e3,this._easing)},e}(),a=function(){function e(e,t){var n=this;this._delay=t*1e3,this._tween=e,this._tween.onComplete(function(){return n._onTweenComplete()}),this._tid=-1,this._state=k.Initialized;return}return P(e,p),e.prototype.play=function(){var e=this;this._state=k.Playing,this._tid=setTimeout(function(){e._tween.play()},this._delay),this._onPlay&&this._onPlay(this)},e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e.prototype.stop=function(){clearTimeout(this._tid),this._tween&&this._tween.stop()},e.prototype._onTweenComplete=function(){this.finalize()},e.prototype.getDuration=function(){return this._delay/1e3+this._tween.getDuration()},e.prototype.getState=function(){return this._tween.getState()},e.prototype.clone=function(){return new e(this._tween.clone(),this._delay/1e3)},e}(),s=function(){function e(t,n,r,i,s,o){e.__super__.constructor.call(this,t,n,r,s,o),this._t=0,this._cp=i;return}return P(e,i),e.prototype.play=function(){e.__super__.play.call(this),this._t=0},e.prototype.update=function(e,t){var n;this._t=this._easing.update(e-this._st,0,1,this._duration),e>=this._endTime&&(this._t=this._easing.update(this._duration,0,1,this._duration),this._state=k.Completed),n=1-this._t,this._mapper[t]=this._t*this._t*this._to[t]+2*this._t*n*this._cp[t]+n*n*this._from[t]},e.prototype.clone=function(){return new e(this._target,this._to,this._from,this._cp,this._duration,this._easing)},e}(),x=function(){function e(e,t){var n=this;this._count=t<0?0:t,this._tween=e,this._state=k.Initialized,this._ct=0,this._tween.onComplete(function(){return n._repeatPlay()})}return P(e,p),e.prototype.play=function(){return this._state=k.Playing,this._tween.play()},e.prototype._repeatPlay=function(){return this._count===0||++this._ct<this._count?this._tween.play():this.finalize()},e.prototype.stop=function(){this._tween&&this._tween.stop(),this.finalize()},e.prototype.getDuration=function(){return this._count===0?Infinity:this._tween.getDuration()*this._count},e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e.prototype.clone=function(){return new e(this._tween.clone(),this._count)},e}(),b=function(){function e(e){this._tweens=e,this._state=k.Initialized;return}return P(e,d),e.prototype.play=function(){var e,t,n,r,i=this;this._state=k.Playing,r=this._tweens;for(t=0,n=r.length;t<n;t++)e=r[t],e._state=k.Playing,e.onComplete(function(){return i._onChildComplete()}),e.play()},e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e.prototype.stop=function(){var e,t,n,r;r=this._tweens;for(t=0,n=r.length;t<n;t++)e=r[t],e.stop();this._state=k.Stoped},e.prototype._onChildComplete=function(){var e,t,n,r;r=this._tweens;for(t=0,n=r.length;t<n;t++){e=r[t];if(e._state!==k.Finalized)return}this.finalize()},e.prototype.getDuration=function(){var e,t,n,r,i,s;t=-1,s=this._tweens;for(r=0,i=s.length;r<i;r++)n=s[r],e=n.getDuration(),t=e>t?e:t;return t},e.prototype.clone=function(){var t,n,r,i,s;n=[],s=this._tweens;for(t=0,i=s.length;t<i;t++)r=s[t],n[t]=r.clone();return new e(n)},e}(),T=function(){function e(e){this._tweens=e,this._current=null,this._index=0,this._state=k.Initialized;return}return P(e,d),e.prototype.play=function(){this._state=k.Playing,this._current=null,this._index=0,this._playTween()},e.prototype.stop=function(){this._state=k.Stoped,this._current&&this._current.stop()},e.prototype._playTween=function(){var e=this;this._current=this._tweens[this._index],this._current.onComplete(function(){return e._onChildComplete()}),this._current.play()},e.prototype._onChildComplete=function(){++this._index>=this._tweens.length?this.finalize():this._playTween()},e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e.prototype.getDuration=function(){var e,t,n,r,i;e=0,i=this._tweens;for(n=0,r=i.length;n<r;n++)t=i[n],e+=t.getDuration();return e},e.prototype.clone=function(){var t,n,r,i,s;n=[],s=this._tweens;for(t=0,i=s.length;t<i;t++)r=s[t],n[t]=r.clone();return new e(n)},e}(),l=function(){function e(e,t,n){var r=this;this._tweens=e,this._state=k.Initialized,this._easing=t,this._duration=n*1e3,this._delegate=function(){return r._onChildComplete()},this._index=0,this._max=this._tweens.length-1;return}return P(e,d),e.prototype.play=function(){var e,t,n,r;r=this._tweens;for(t=0,n=r.length;t<n;t++)e=r[t],e._state=k.Initialized,e.onComplete(this._delegate);S.addListener(this),this._st=Date.now!=null?Date.now():(new Date).getTime(),this._endTime=this._st+this._duration,this._state=k.Playing,S.getState()===0&&S.start()},e.prototype.update=function(e){var t,n,r;n=this._easing.update(e-this._st,0,this._max,this._duration),this._endTime<=e&&(n=this._easing.update(this._duration,0,this._max,this._duration),S.removeListener(this));for(t=0;0<=n?t<=n:t>=n;0<=n?t++:t--)r=this._tweens[t],r._state===k.Initialized&&r.play()},e.prototype._onChildComplete=function(){var e,t,n,r;r=this._tweens;for(t=0,n=r.length;t<n;t++){e=r[t];if(e._state===k.Playing||e._state===k.Initialized)return}this.finalize()},e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e.prototype.stop=function(){var e,t,n,r;r=this._tweens;for(t=0,n=r.length;t<n;t++)e=r[t],e.stop();this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e.prototype.getDuration=function(){},e.prototype.clone=function(){var t,n,r,i,s;n=[],s=this._tweens;for(t=0,i=s.length;t<i;t++)r=s[t],n[t]=r.clone();return new e(n,this._easing,this._duration/1e3)},e}(),c=function(){function e(e,t,n){this._func=e,this._params=t||[],this._caller=n||this,this._state=k.Initialized,this._duration=0;return}return P(e,p),e.prototype.play=function(){var e=this;this._state=k.Playing,this._func.apply(this._caller,this._params),setTimeout(function(){return e.finalize()})},e.prototype.clone=function(){return new e(this._func,this._params,this._caller)},e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e}(),E=function(){function e(e,t){this._target=e,this._prop=t,this._duration=0;return}return P(e,p),e.prototype.play=function(){var e,t=this;e=w.getMapper(this._target),e.applyProperties(this._prop,!0),setTimeout(function(){return t.finalize()},25)},e.prototype.finalize=function(){this._state=k.Finalized,this._onComplete&&this._onComplete(this)},e.prototype.clone=function(){return new e(this._target,this._prop)},e}(),C=function(){function e(e,t,n,r,i){var s=this;this._target=e,this._to=t,this._from=n||{},this._easing=i?u[i]:N.DefaultCssEasing,this._transitionName=L.vender+"Transition",this._transitionEnd=L.vender+"TransitionEnd",this._transitionNameCSS=L.cssVender+"transition",this._duration=r*1e3,this._state=k.Initialized,this._mapper=w.getMapper(this._target),this._delegate=function(){return s._onTransitionEnd()},this._cid=-1;return}return P(e,h),e.prototype._parseProps=function(){var e,t,n;n="",t=[];for(e in this._to)e==="x"||e==="y"||e==="z"||e==="rotation"||e==="rotationX"||e==="rotationY"||e==="rotationZ"||e==="skewX"||e==="skewY"||e==="scaleX"||e==="scaleY"?n=L.cssVender+"transform":e==="top"||e==="bottom"||e==="left"||e==="right"||e==="width"||e==="height"?t.push(e):e==="alpha"?t.push("opacity"):e==="marginTop"?t.push("margin-top"):e==="marginBottom"?t.push("margin-bottom"):e==="marginRight"?t.push("margin-right"):e==="marginLeft"&&t.push("margin-left");return n!==""&&t.push(n),t.join(",")},e.prototype.play=function(){var e,t,n=this;e=this._mapper,e.applyProperties(this._from,!0),this._state=k.Playing,this._cid=setTimeout(function(){return n._onTransitionEnd()},this._duration+100),t=this._parseProps(),setTimeout(function(){return n._target.style[n._transitionName]=t+" "+n._duration+"ms "+n._easing,n._mapper.transitionStr=n._transitionNameCSS+":"+t+" "+n._duration+"ms "+n._easing+";",setTimeout(function(){return e.applyProperties(n._to,!0)},0)},0)},e.prototype._onTransitionEnd=function(){var e=this;clearTimeout(this._cid),this._target.style[this._transitionName]=null,this._mapper.transitionStr="",setTimeout(function(){return e.finalize()},0)},e.prototype.clone=function(){return new e(this._target,this._to,this._from,this._duration/1e3,this._easing)},e}(),n=function(){function e(t,n,r,i,s){var o,a=this;this._target=t,this._to=n,this._from=r,this._duration=i*1e3,this._easing=s?u[s]:N.DefaultCssEasing,this._mapper=w.getMapper(this._target),o=e._createKeyFrame(this._mapper,this._to,this._from),this._rule=o[0],this._className=o[1],this._state=k.Initialized,this._animationName=L.vender+"Animation",this._animationEnd=L.animationEnd,this._delegate=function(){return a._onAnimationEnd},this._cid=-1;return}return P(e,h),e._count=0,e._css=null,e._initializeCss=function(){var t;t=document.createElement("style"),t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),e._css=t},e._createKeyFrame=function(t,n,r){var i,s,o,u,a,f,l,c;return e._css||e._initializeCss(),u=L.cssVender+"keyframes",s=L.cssVender,i="taTmp_"+ ++e._count,t.applyProperties(r,!1),o=t.getTransformString(),f=t.getStyleString(),t.applyProperties(n,!1),c=t.getTransformString(),l=t.getStyleString(),a=document.createTextNode("@"+s+"keyframes "+i+"{\n	0%{\n		"+s+"transform:"+o+";\n		"+f+"\n	}\n	100%{\n		"+s+"transform:"+c+";\n		"+l+"\n	}\n}"),[a,i]},e.prototype.play=function(){var t=this;this._state=k.Playing,this._cid=setTimeout(this._delegate,this._duration+100),setTimeout(function(){return e._css.appendChild(t._rule),t._target.addEventListener(t._animationEnd,t._delegate),setTimeout(function(){return t._target.style[t._animationName]=""+t._className+" "+t._duration+"ms "+t._easing,t._mapper.applyProperties(t._to,!0)},0)},0)},e.prototype._onAnimationEnd=function(){var e=this;clearTimeout(this._cid),this._target.removeEventListener(this._animationEnd,this._delegate),setTimeout(function(){return e.finalize()},0)},e.prototype.clone=function(){return new e(this._target,this._to,this._from,this._duration/1e3,this._easing)},e}(),N=function(){function e(){}return e.tween=function(e,t,n,r,s){return new i(e,t,n,r,s)},e.bezier=function(e,t,n,r,i,o){return new s(e,t,n,r,i,o)},e.delay=function(e,t){return new a(e,t)},e.parallelTweens=function(e){return new b(e)},e.parallel=function(){return new b(arguments)},e.serialTweens=function(e){return new T(e)},e.serial=function(){return new T(arguments)},e.easingTweens=function(e,t,n){return new l(e,t,n)},e.transition=function(e,t,n,r,i){return new C(e,t,n,r,i)},e.animation=function(e,t,r,i,s){return new n(e,t,r,i,s)},e.repeat=function(e,t){return new x(e,t)},e.func=function(e,t,n){return new c(e,t,n)},e.prop=function(e,t){return new E(e,t)},e.apply=function(e,t){return new E(e,t)},e.version="0.1.5",e.DefaultEasing=v.easeNone,e.DefaultCssEasing=u.linear,e}(),window.jp=window.jp||{},window.jp.contents=window.jp.contents||{},window.jp.contents.collections=window.jp.contents.collections||{},window.jp.contents.TrTween=window.jp.contents.TrTween||{},window.jp.contents.collections.LinkedList=m,window.jp.contents.mapper=window.jp.contents.mapper||{},window.jp.contents.mapper.PropertyMapper=w,window.jp.contents.TrTween.TrTween=N}).call(this)